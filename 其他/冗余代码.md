# bool表达式

如xxx ? true : false可以改为xxx，还有
if (value > 0.0)
return false;
else
return true;
可以改为return value > 0.0

# 冗余条件判断

```cpp
            if (initial_shape_.checkNotFar(particle_position, lattice_spacing_))
            {
                if (initial_shape_.checkContain(particle_position))
```

`checkNotFar`可以删了

`tests\extra_source_and_tests\extra_src\shared\pressure_boundary\bidirectional_buffer.h`：

如果`aligned_box_.checkUpperBound(pos_[index_i], upper_bound_fringe_`满足，那么`!aligned_box_.checkInBounds(pos_[index_i])`一定满足

```cpp
            if (!aligned_box_.checkInBounds(pos_[index_i]))
            {
                if (aligned_box_.checkUpperBound(pos_[index_i], upper_bound_fringe_) &&
                    buffer_indicator_[index_i] == part_id_ &&
                    index_i < particles_->TotalRealParticles())
```

